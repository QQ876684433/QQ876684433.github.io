---
title: 软件系统设计02-质量属性策略
date: 2019-09-09 20:37:15
categories:
- 笔记
- 软件系统设计
tags:
- 架构
---

# 软件系统设计02-质量属性策略

## 第四章 理解质量属性

### 质量属性定义

**质量属性（Quality Attribute，QA）**：它是一个系统可度量或者可测试的属性，用来指示系统在多大程度上满足了它的利益相关者的需求

![](https://i.loli.net/2019/09/09/Dmh8IoW5f4c2MF3.png)

### 架构和需求

#### 需求的分类

- **功能性需求（Functional Requirements）**：描述了系统必须做的事情（必须实现的功能），以及在运行时接受外部刺激时系统应该表现出的行为或者反应
- **质量属性需求（Quality Attribute Requirements）**：它是功能性需求或者整个产品的质量或者限定条件——对于功能性需求来说，它描述了系统响应有多快或者在接受错误输入时必须具备多大的弹性等；对于整个系统来说，它描述了产品的部署需要的时间或者对运营成本的限制
- **约束（Constraints）**：约束条件是**具有零自由度的设计决策**，即是说它是一个已经做出的设计决策，不能再修改。例如系统使用的编程语言或者要依赖的指定模块等

![](https://i.loli.net/2019/09/09/jdH9W4NpQTciDoX.png)

#### 不同种类的需求在架构中的体现

- 功能性需求：通过整个设计中合适的职责分配来满足
- 质量属性需求：通过设计到架构中的各种结构以及填充这些结构的元素的行为和交互来满足
- 约束：通过接受设计决策并将其与其他受影响的设计决策进行协调来满足约束条件

![](https://i.loli.net/2019/09/09/sAGFdjfNtq1pyU5.png)

### 功能性需求

功能性需求**不能决定架构**。原因是对于一个给定的功能性需求集合，我们可以有很多不同的方法来将功能性需求划分到不同的架构模块中；事实上，即使我们不划分模块，甚至内部毫无架构结构可言，也依旧有可能将功能性需求实现。

我们进行架构设计是为了使得系统更加易于理解，以便支持各种各样的**其他目的——即质量属性需求**。

尽管功能性需求**独立于特定的系统结构**，但是它是通过将系统的职责分配到不同的架构元素中来实现的；虽然职责可以被任意分配到某一个模块中，但是当质量属性占很重要地位的时候，软件架构会约束系统职责的分配。

![](https://i.loli.net/2019/09/09/1k7jC4bmetfMHdS.png)

### 质量属性考量

功能性需求和质量属性都不是自身独立的。

从架构师的角度，系统质量属性会有以下三个问题：

- 某个质量属性的定义是不可测试的
- 对质量属性的讨论通常侧重于特定问题所属的质量，而且这个问题往往在不同的质量属性范围中有重叠
- 每个质量社区都发展出了自己的属性词汇

前两个问题可以通过才用“质量属性场景”这个工具来区分不同的质量属性；第三个问题可以通过对每一个属性的多个社区词汇进行讨论，寻找出某个质量属性的不通社区词汇之间最本质最基础的概念

![](https://i.loli.net/2019/09/09/ARi5bKTxBnFCMLz.png)

![](https://i.loli.net/2019/09/09/VNMErefpAtXSTcy.png)

#### 质量属性分类

- 系统运行时的属性：可用性（Availability）、性能（Performance）、易用性（Usability）等
- 系统开发时的属性：可修改性（Modifiability）、可测试性（Testability）

![](https://i.loli.net/2019/09/09/zIuGqswZ8JO3tvi.png)

在复杂的系统中，质量属性相互之间不可能是独立开的，一个质量属性的实现对其他质量属性产生或积极或负面的影响，因此在架构设计时需要在这些设计决策之间作出合适的权衡。

### 制定质量属性需求

质量属性需求应当是**明确的和可测试的**。质量属性表达的常用形式包含这些部分：

- **刺激（Stimulus）**：到达系统的事件，例如易用性中的用户操作，安全性中的外部攻击，可修改性中的修改需求，可测试性中的某个开发阶段的完成等
- **刺激源（Stimulus source）**：不同的刺激源，系统对待和处理的方式会不一样，例如受信任用户和不受信任用户经历的审查是不一样的
- **响应（Response）**：对于刺激，系统应当采取的措施，例如在可修改性的场景中，一个修改需求的到达要求开发者将这个修改需求实现、测试并部署所作出的修改
- **响应度量（Response measure）**：判断系统的响应是否满足需求，例如性能的度量可以是延迟或者吞吐量，可修改性的度量可以是工作量或者修改、测试和部署修改所需的时间等
- **环境（Environment）**：需求的环境是一系列场景发生情况的集合，它充当了刺激的限定词，例如对待代码冻结以发布前后发生的错误，处理的方式是不一样的
- **工件（Artifact）**：它是系统中需求适用的部分，不同的问题，它可能影响整个系统，也有可能只影响系统的某一个部分，例如数据库出错和元数据库出错的处理方式是不一样的，用户接口的修改需求和中间件的修改需求所需要的时间也是不一样的，等等

![](https://i.loli.net/2019/09/09/PYTGwBznM42QHN8.png)

![](https://i.loli.net/2019/09/10/NZ4BG2OqXTiDuzw.png)

质量属性需求可以划分为六个场景，它们可能单独发生，也有可能伴随发生，特别是系统架构设计初期

![](https://i.loli.net/2019/09/10/Q8yB2pgMoIGvmDt.png)

#### 质量属性场景示例图

![](https://i.loli.net/2019/09/10/xOyBMiYCUJd1jXz.png)

![](https://i.loli.net/2019/09/10/YLOvhojfMnNRxpB.png)



### 通过策略来实现质量属性需求

#### 架构策略（Architectural Tactics）

架构策略是用来实现需要的质量属性的技术，它是一种设计决策，会影响质量属性响应的实现以及会直接影响系统对某些刺激的响应。**策略赋予一种设计可移植性，将性能传递给另一种设计，并将可集成性传递给第三种设计**。

![](https://i.loli.net/2019/09/10/D9BrKmp7Fjqgwfb.png)




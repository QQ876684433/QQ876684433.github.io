<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>软件系统设计02-质量属性策略 | 至繁归于至简 - chph&#39;s blog | steve_chph personal website</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="架构">
    <meta name="description" content="软件系统设计02-质量属性策略第四章 理解质量属性质量属性定义质量属性（Quality Attribute，QA）：它是一个系统可度量或者可测试的属性，用来指示系统在多大程度上满足了它的利益相关者的需求">
<meta name="keywords" content="架构">
<meta property="og:type" content="article">
<meta property="og:title" content="软件系统设计02-质量属性策略">
<meta property="og:url" content="http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/index.html">
<meta property="og:site_name" content="至繁归于至简 - chph&#39;s blog">
<meta property="og:description" content="软件系统设计02-质量属性策略第四章 理解质量属性质量属性定义质量属性（Quality Attribute，QA）：它是一个系统可度量或者可测试的属性，用来指示系统在多大程度上满足了它的利益相关者的需求">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2019/09/09/Dmh8IoW5f4c2MF3.png">
<meta property="og:image" content="https://i.loli.net/2019/09/09/jdH9W4NpQTciDoX.png">
<meta property="og:image" content="https://i.loli.net/2019/09/09/sAGFdjfNtq1pyU5.png">
<meta property="og:image" content="https://i.loli.net/2019/09/09/1k7jC4bmetfMHdS.png">
<meta property="og:image" content="https://i.loli.net/2019/09/09/ARi5bKTxBnFCMLz.png">
<meta property="og:image" content="https://i.loli.net/2019/09/09/VNMErefpAtXSTcy.png">
<meta property="og:image" content="https://i.loli.net/2019/09/09/zIuGqswZ8JO3tvi.png">
<meta property="og:image" content="https://i.loli.net/2019/09/09/PYTGwBznM42QHN8.png">
<meta property="og:image" content="https://i.loli.net/2019/09/10/NZ4BG2OqXTiDuzw.png">
<meta property="og:image" content="https://i.loli.net/2019/09/10/Q8yB2pgMoIGvmDt.png">
<meta property="og:image" content="https://i.loli.net/2019/09/10/xOyBMiYCUJd1jXz.png">
<meta property="og:image" content="https://i.loli.net/2019/09/10/YLOvhojfMnNRxpB.png">
<meta property="og:image" content="https://i.loli.net/2019/09/10/D9BrKmp7Fjqgwfb.png">
<meta property="og:image" content="https://i.loli.net/2019/09/16/X47xSvL1yr589FV.png">
<meta property="og:image" content="https://i.loli.net/2019/09/20/4B6Ae2q9hjCuKHE.png">
<meta property="og:updated_time" content="2019-09-20T08:49:16.618Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="软件系统设计02-质量属性策略">
<meta name="twitter:description" content="软件系统设计02-质量属性策略第四章 理解质量属性质量属性定义质量属性（Quality Attribute，QA）：它是一个系统可度量或者可测试的属性，用来指示系统在多大程度上满足了它的利益相关者的需求">
<meta name="twitter:image" content="https://i.loli.net/2019/09/09/Dmh8IoW5f4c2MF3.png">
    
        <link rel="alternate" type="application/atom+xml" title="至繁归于至简 - chph&#39;s blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">steve_chph</h5>
          <a href="mailto:chph13420146901@gmail.com" title="chph13420146901@gmail.com" class="mail">chph13420146901@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/QQ876684433" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/custom"  >
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">软件系统设计02-质量属性策略</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">软件系统设计02-质量属性策略</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-09-09T12:37:15.000Z" itemprop="datePublished" class="page-time">
  2019-09-09
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/笔记/">笔记</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/笔记/软件系统设计/">软件系统设计</a></li></ul></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#软件系统设计02-质量属性策略"><span class="post-toc-number">1.</span> <span class="post-toc-text">软件系统设计02-质量属性策略</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#第四章-理解质量属性"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">第四章 理解质量属性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#质量属性定义"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">质量属性定义</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#架构和需求"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">架构和需求</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#需求的分类"><span class="post-toc-number">1.1.2.1.</span> <span class="post-toc-text">需求的分类</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#不同种类的需求在架构中的体现"><span class="post-toc-number">1.1.2.2.</span> <span class="post-toc-text">不同种类的需求在架构中的体现</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#功能性需求"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">功能性需求</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#质量属性考量"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">质量属性考量</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#质量属性分类"><span class="post-toc-number">1.1.4.1.</span> <span class="post-toc-text">质量属性分类</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#制定质量属性需求"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text">制定质量属性需求</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#质量属性场景示例图"><span class="post-toc-number">1.1.5.1.</span> <span class="post-toc-text">质量属性场景示例图</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#通过策略来实现质量属性需求"><span class="post-toc-number">1.1.6.</span> <span class="post-toc-text">通过策略来实现质量属性需求</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#架构策略（Architectural-Tactics）"><span class="post-toc-number">1.1.6.1.</span> <span class="post-toc-text">架构策略（Architectural Tactics）</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#指导设计决策"><span class="post-toc-number">1.1.7.</span> <span class="post-toc-text">指导设计决策</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#第五章-可用性"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">第五章 可用性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#可用性普遍场景"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">可用性普遍场景</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-软件系统设计02-质量属性策略"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">软件系统设计02-质量属性策略</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-09-09 20:37:15" datetime="2019-09-09T12:37:15.000Z"  itemprop="datePublished">2019-09-09</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/笔记/">笔记</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/笔记/软件系统设计/">软件系统设计</a></li></ul></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="软件系统设计02-质量属性策略"><a href="#软件系统设计02-质量属性策略" class="headerlink" title="软件系统设计02-质量属性策略"></a>软件系统设计02-质量属性策略</h1><h2 id="第四章-理解质量属性"><a href="#第四章-理解质量属性" class="headerlink" title="第四章 理解质量属性"></a>第四章 理解质量属性</h2><h3 id="质量属性定义"><a href="#质量属性定义" class="headerlink" title="质量属性定义"></a>质量属性定义</h3><p><strong>质量属性（Quality Attribute，QA）</strong>：它是一个系统可度量或者可测试的属性，用来指示系统在多大程度上满足了它的利益相关者的需求</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/Dmh8IoW5f4c2MF3.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="架构和需求"><a href="#架构和需求" class="headerlink" title="架构和需求"></a>架构和需求</h3><h4 id="需求的分类"><a href="#需求的分类" class="headerlink" title="需求的分类"></a>需求的分类</h4><ul>
<li><strong>功能性需求（Functional Requirements）</strong>：描述了系统必须做的事情（必须实现的功能），以及在运行时接受外部刺激时系统应该表现出的行为或者反应</li>
<li><strong>质量属性需求（Quality Attribute Requirements）</strong>：它是功能性需求或者整个产品的质量或者限定条件——对于功能性需求来说，它描述了系统响应有多快或者在接受错误输入时必须具备多大的弹性等；对于整个系统来说，它描述了产品的部署需要的时间或者对运营成本的限制</li>
<li><strong>约束（Constraints）</strong>：约束条件是<strong>具有零自由度的设计决策</strong>，即是说它是一个已经做出的设计决策，不能再修改。例如系统使用的编程语言或者要依赖的指定模块等</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/jdH9W4NpQTciDoX.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<h4 id="不同种类的需求在架构中的体现"><a href="#不同种类的需求在架构中的体现" class="headerlink" title="不同种类的需求在架构中的体现"></a>不同种类的需求在架构中的体现</h4><ul>
<li>功能性需求：通过整个设计中合适的职责分配来满足</li>
<li>质量属性需求：通过设计到架构中的各种结构以及填充这些结构的元素的行为和交互来满足</li>
<li>约束：通过接受设计决策并将其与其他受影响的设计决策进行协调来满足约束条件</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/sAGFdjfNtq1pyU5.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="功能性需求"><a href="#功能性需求" class="headerlink" title="功能性需求"></a>功能性需求</h3><p>功能性需求<strong>不能决定架构</strong>。原因是对于一个给定的功能性需求集合，我们可以有很多不同的方法来将功能性需求划分到不同的架构模块中；事实上，即使我们不划分模块，甚至内部毫无架构结构可言，也依旧有可能将功能性需求实现。</p>
<p>我们进行架构设计是为了使得系统更加易于理解，以便支持各种各样的<strong>其他目的——即质量属性需求</strong>。</p>
<p>尽管功能性需求<strong>独立于特定的系统结构</strong>，但是它是通过将系统的职责分配到不同的架构元素中来实现的；虽然职责可以被任意分配到某一个模块中，但是当质量属性占很重要地位的时候，软件架构会约束系统职责的分配。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/1k7jC4bmetfMHdS.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="质量属性考量"><a href="#质量属性考量" class="headerlink" title="质量属性考量"></a>质量属性考量</h3><p>功能性需求和质量属性都不是自身独立的。</p>
<p>从架构师的角度，系统质量属性会有以下三个问题：</p>
<ul>
<li>某个质量属性的定义是不可测试的</li>
<li>对质量属性的讨论通常侧重于特定问题所属的质量，而且这个问题往往在不同的质量属性范围中有重叠</li>
<li>每个质量社区都发展出了自己的属性词汇</li>
</ul>
<p>前两个问题可以通过才用“质量属性场景”这个工具来区分不同的质量属性；第三个问题可以通过对每一个属性的多个社区词汇进行讨论，寻找出某个质量属性的不通社区词汇之间最本质最基础的概念</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/ARi5bKTxBnFCMLz.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/VNMErefpAtXSTcy.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<h4 id="质量属性分类"><a href="#质量属性分类" class="headerlink" title="质量属性分类"></a>质量属性分类</h4><ul>
<li>系统运行时的属性：可用性（Availability）、性能（Performance）、易用性（Usability）等</li>
<li>系统开发时的属性：可修改性（Modifiability）、可测试性（Testability）</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/zIuGqswZ8JO3tvi.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<p>在复杂的系统中，质量属性相互之间不可能是独立开的，一个质量属性的实现对其他质量属性产生或积极或负面的影响，因此在架构设计时需要在这些设计决策之间作出合适的权衡。</p>
<h3 id="制定质量属性需求"><a href="#制定质量属性需求" class="headerlink" title="制定质量属性需求"></a>制定质量属性需求</h3><p>质量属性需求应当是<strong>明确的和可测试的</strong>。质量属性表达的常用形式包含这些部分：</p>
<ul>
<li><strong>刺激（Stimulus）</strong>：到达系统的事件，例如易用性中的用户操作，安全性中的外部攻击，可修改性中的修改需求，可测试性中的某个开发阶段的完成等</li>
<li><strong>刺激源（Stimulus source）</strong>：不同的刺激源，系统对待和处理的方式会不一样，例如受信任用户和不受信任用户经历的审查是不一样的</li>
<li><strong>响应（Response）</strong>：对于刺激，系统应当采取的措施，例如在可修改性的场景中，一个修改需求的到达要求开发者将这个修改需求实现、测试并部署所作出的修改</li>
<li><strong>响应度量（Response measure）</strong>：判断系统的响应是否满足需求，例如性能的度量可以是延迟或者吞吐量，可修改性的度量可以是工作量或者修改、测试和部署修改所需的时间等</li>
<li><strong>环境（Environment）</strong>：需求的环境是一系列场景发生情况的集合，它充当了刺激的限定词，例如对待代码冻结以发布前后发生的错误，处理的方式是不一样的</li>
<li><strong>工件（Artifact）</strong>：它是系统中需求适用的部分，不同的问题，它可能影响整个系统，也有可能只影响系统的某一个部分，例如数据库出错和元数据库出错的处理方式是不一样的，用户接口的修改需求和中间件的修改需求所需要的时间也是不一样的，等等</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/09/PYTGwBznM42QHN8.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/10/NZ4BG2OqXTiDuzw.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<p>质量属性需求可以划分为六个场景，它们可能单独发生，也有可能伴随发生，特别是系统架构设计初期</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/10/Q8yB2pgMoIGvmDt.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<h4 id="质量属性场景示例图"><a href="#质量属性场景示例图" class="headerlink" title="质量属性场景示例图"></a>质量属性场景示例图</h4><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/10/xOyBMiYCUJd1jXz.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/10/YLOvhojfMnNRxpB.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>



<h3 id="通过策略来实现质量属性需求"><a href="#通过策略来实现质量属性需求" class="headerlink" title="通过策略来实现质量属性需求"></a>通过策略来实现质量属性需求</h3><h4 id="架构策略（Architectural-Tactics）"><a href="#架构策略（Architectural-Tactics）" class="headerlink" title="架构策略（Architectural Tactics）"></a>架构策略（Architectural Tactics）</h4><p>架构策略是用来实现需要的质量属性的技术，它是一种设计决策，会影响质量属性响应的实现以及会直接影响系统对某些刺激的响应。<strong>策略赋予一种设计可移植性，将性能传递给另一种设计，并将可集成性传递给第三种设计</strong>。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/10/D9BrKmp7Fjqgwfb.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>



<h3 id="指导设计决策"><a href="#指导设计决策" class="headerlink" title="指导设计决策"></a>指导设计决策</h3><p><strong>架构是应用设计决策集合的结果</strong>。设计决策可以分为七个类别，在设计架构的时候可以分别从某个设计决策的维度进行设计考量，降低架构设计的复杂度：</p>
<ul>
<li><p><strong>职责分配（Allocation of Responsibilities）</strong></p>
<p>涉及职责分配的决策包括：</p>
<ul>
<li>识别重要的职责（基础系统功能、架构基础设施、质量属性的满足）</li>
<li>决定如何将这些职责分配到运行时和非运行时元素</li>
</ul>
<p>制定如上决策的策略有：功能分解、对真实世界对象建模、基于操作的主要模式分组、基于相似的质量属性分组</p>
<p><img src="https://i.loli.net/2019/09/16/X47xSvL1yr589FV.png" alt></p>
</li>
<li><p><strong>协作模型（Coordination Model）</strong></p>
<p>软件架构中各个元素之间相互交互的设计机制就是协作模型，它包括如下方面：</p>
<ul>
<li>识别系统中必须协作或者禁止协作的元素</li>
<li>确定协作的属性，例如时间线、完成度、正确性和一致性等</li>
<li>选择实现上面协作属性的通信机制，例如有状态的和无状态的、同步的和异步的、保证交付和不保证交付的，以及与性能相关的属性（吞吐量，延迟等）</li>
</ul>
</li>
<li><p><strong>数据模型（Data Model）</strong></p>
<p>每个系统必须以某种内部方式表示系统范围内的数据，这就是数据模型。有关数据模型的决策如下：</p>
<ul>
<li>选择主要的数据抽象（属性与相应的操作）。它包括数据的创建、初始化、访问、持久化、操作、解释和销毁</li>
<li>编译一致解释数据所需的元数据</li>
<li>组织数据，包括数据是否要存储在关系型数据库、对象集合中，或者两者兼有。如果两者兼有，则还得确定两个不同位置之间的映射</li>
</ul>
</li>
<li><p><strong>资源管理（Management of Resource）</strong></p>
<p>软件架构必须仲裁系统中共享资源的使用，包括硬件资源（CPU、存储、电源、硬件缓冲、系统时钟和I/O端口等）和软件资源（系统锁、软件缓冲、线程池，以及非线程安全的代码），资源管理决策包括如下方面：</p>
<ul>
<li>识别必须被管理的资源，确定每种资源的限度</li>
<li>确定每种资源是由哪个系统元素管理的</li>
<li>当资源存在竞争时，要确定资源的共享方式以及采取的仲裁策略</li>
<li>确定各种资源饱和时会造成的影响，例如随着CPU负载的增加，系统的性能会相应地下降；当内存逐渐耗尽，会在某个点开始密集地分页/交换，随之而来的是性能突然下降甚至崩溃</li>
</ul>
</li>
<li><p><strong>架构元素之间的映射（Mapping among Architectural Elements）</strong></p>
<ul>
<li><p>不同类型架构之间的映射</p>
<p>例如开发单元（模块）到执行单元（线程或者进程）的映射</p>
</li>
<li><p>软件元素和环境元素之间的映射</p>
<p>例如进程到特定CPUs的映射</p>
</li>
</ul>
<p>一般有如下比较实用的映射：</p>
<ul>
<li><strong>开发模块</strong>与<strong>运行时元素</strong>之间的相互映射，即运行时元素是由每个模块创建出来的，开发模块包含了对应每个运行时元素的代码</li>
<li><strong>运行时元素</strong>到<strong>处理器</strong>的分配</li>
<li><strong>数据模型</strong>到<strong>数据存储</strong>的分配</li>
<li><strong>开发模块和运行时元素</strong>到<strong>交付单元</strong>之间的映射</li>
</ul>
</li>
<li><p><strong>绑定时间决策（结合时间决策，Binding Time Decision）</strong></p>
<blockquote>
<p><strong>Binding time</strong> is an important, yet underestimated viewpoint in software architecture and design. It defines the latest time during the software life cycle when something flexible becomes decided and fixed. This heavily impacts the flexibility of a software design and the resulting application. A terminology for describe binding time is established and an analysis is carried out in form of side-by-side comparisons for patterns and mechanisms from the creational, structural, and behavioral domains. These terminology and synoptic comparisons with the binding time considerations can aid software architects and developers in selecting patterns and taking correct architectural decisions for their binding time requirements.</p>
<p>——Abstract from Paper “<u>Describing binding time in software design patterns</u>”</p>
</blockquote>
<p>绑定时间是软件架构和设计中一个重要但却被低估的观点，它定义了软件生命周期中具备灵活性的元素变成确定的和固定的状态时的最迟时间。它会深刻影响软件设计以及最终应用程序的灵活性。</p>
<p>其他六种决策也都和结合时间决策有关联：</p>
<ul>
<li>对于职责分配，可以在构建编译时通过参数化的makefile来选择模块</li>
<li>对于协作模型的选择，可以设计一个运行时通信协议进行协作</li>
<li>对于资源管理，可以设计一个机制，使得系统能够允许在运行时接受新的外围设备插入，紧接着识别设备并自动下载安装相应的驱动程序</li>
<li>对于技术选型，可以构建app store方式来为已经购买app的用户自动下载适合版本的app等</li>
</ul>
<p>在制定结合时间决策时，要考虑<strong>实现这种决策的开销</strong>，以及<strong>后续修改这种决策实现的开销</strong>。例如考虑到代码开发完成后有迁移系统平台的可能性，那么就应该在设计时通过一些额外的开销来将自己的开发工作变得平台独立，以便后续的平台移植。</p>
</li>
<li><p><strong>技术选择（Choice of Technology）</strong></p>
<p>技术选择是这七种决策的约束，因此我们必须选择合适的技术来实现这七种决策。技术选型决策包含以下方面：</p>
<ul>
<li>确定哪些技术能够实现其他六种决策</li>
<li>确定是否有合适的开发工具（IDEs，模拟器，测试工具，等等）来支持开发活动</li>
<li>确定内部人员对技术的熟悉程度，以及外部资源对技术的支持程度（例如课程、手册、示例，以及能够提供紧急情况专业知识的承包商的可用性）</li>
<li>确定所选技术的副作用，例如技术限制的协作迷行、资源管理等</li>
<li>确定一个新的技术是否和现有的技术栈兼容</li>
</ul>
</li>
</ul>
<h2 id="第五章-可用性"><a href="#第五章-可用性" class="headerlink" title="第五章 可用性"></a>第五章 可用性</h2><p><strong>Availability=detect+correct+restart</strong></p>
<p><strong>可用性损失期</strong>（从发生故障到发现故障，修复故障，最后到系统重启恢复到故障发生前的状态）由以下方面决定：</p>
<ul>
<li>Time to <strong>detect</strong> failure</li>
<li>Time to <strong>correct</strong> failure </li>
<li>Time to <strong>restart</strong> application</li>
</ul>
<p><strong>单点故障</strong></p>
<p>单点故障（英语：single point of failure，缩写SPOF）是指系统中一旦失效，就会让整个系统无法运作的部件，换句话说，单点故障即会整体故障。</p>
<p>高可用性的一些策略：</p>
<ul>
<li>消除单点失效（单点故障）</li>
<li>复制（备份机制，例如checkpoint等）、故障转移（快速恢复）</li>
<li>自动检测和重启机制</li>
</ul>
<p><strong>可恢复性</strong></p>
<p>在应用程序或系统发生故障后重新建立性能级别并恢复受影响数据的能力</p>
<p><strong>可用性的计算方式</strong></p>
<p>可用性可以计算为在<strong>指定时间间隔内</strong>在<strong>指定范围内</strong>提供<strong>指定服务</strong>的<strong>概率</strong>，一般表示为%形式，如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/09/20/4B6Ae2q9hjCuKHE.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<p>要注意的是，由于系统维护的原因，在计算可用性时不会考虑定期的关机时间。</p>
<p>根据上面的公式，可以想到的提高可用性的措施：</p>
<ul>
<li>缩短系统修复时间</li>
<li>延长系统两次失败之间的时间间隔</li>
</ul>
<p><strong>Outage, Failure, Fault, and Error</strong></p>
<ul>
<li>Fault：系统出错或者故障，他是系统失效（failure）的原因，但是此时系统还是可用的</li>
<li>Failure：系统失效，它是系统状态可以被观测到的特征，往往当系统Failure时，这个系统已经不能为用户提供系统预期的服务了，甚至有可能系统已经宕机了</li>
<li>Error：是由Fault变成可观测的系统Failure的中间状态</li>
<li>Outage：指的是系统停机或者停止服务时间，它包括系统失效/出故障这种非正常的情况，也包括定期维护而停止服务的时间；提高可用性就是通过减少系统出错（Fault），从而缩短系统停止服务（Outage）的时间</li>
</ul>
<p>为了使系统更加安全和高可用，首先需要对这两方面进行分析：<strong>自己定系统最容易发生错误</strong>，以及<strong>每种错误发生后最有能造成的后果</strong>。为了进行这种分析，可以才用如下方法：</p>
<ul>
<li><p><strong>危害分析（Hazard Analysis）</strong></p>
<p>可以根据严重性来对每种危害进行分类，例如：</p>
<ul>
<li><strong>灾难性的（Catastrophic）</strong>：这种失效会导致整个系统直接崩溃，后果最严重</li>
<li><strong>赌运气的（冒险的，Hazardous）</strong>：这种失效对系统的安全或者性能有很大概率的负面影响</li>
<li><strong>重大的（Major）</strong>：危害也很重大，但是程度比上面两种稍微轻一些</li>
<li><strong>轻微的（Minor）</strong>：这种失效是显而易见的，但是危害程度小很多</li>
<li><strong>没有影响（No Effect）</strong>：这种失效没有任何影响</li>
</ul>
</li>
<li><p><strong>故障树分析（Fault Tree Analysis）</strong></p>
</li>
<li><p>失效模式，效果和临界性/危害性分析（Failure Mode, Effects, and Criticality Analysis）</p>
</li>
</ul>
<h3 id="可用性普遍场景"><a href="#可用性普遍场景" class="headerlink" title="可用性普遍场景"></a>可用性普遍场景</h3>
        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2019-09-20T08:49:16.618Z" itemprop="dateUpdated">2019-09-20 16:49:16</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2019/09/09/软件系统设计02-质量属性策略/" target="_blank" rel="external">http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/</a>
        
    </div>
    
    <footer>
        <a href="http://QQ876684433.github.io">
            <img src="/img/avatar.jpg" alt="steve_chph">
            steve_chph
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/架构/">架构</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/&title=《软件系统设计02-质量属性策略》 — 至繁归于至简 - chph's blog&pic=http://QQ876684433.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/&title=《软件系统设计02-质量属性策略》 — 至繁归于至简 - chph's blog&source=the blog website of steve_chph, steve_chph的个人博客网站" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《软件系统设计02-质量属性策略》 — 至繁归于至简 - chph's blog&url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/&via=http://QQ876684433.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/09/10/数据库课堂笔记（2019-09-10）/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">数据库课堂笔记（2019-09-10）</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/09/06/91-解码方法/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">91.解码方法</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢你~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.png" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>steve_chph &copy; 2015 - 2019</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/&title=《软件系统设计02-质量属性策略》 — 至繁归于至简 - chph's blog&pic=http://QQ876684433.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/&title=《软件系统设计02-质量属性策略》 — 至繁归于至简 - chph's blog&source=the blog website of steve_chph, steve_chph的个人博客网站" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《软件系统设计02-质量属性策略》 — 至繁归于至简 - chph's blog&url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/&via=http://QQ876684433.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://QQ876684433.github.io/2019/09/09/软件系统设计02-质量属性策略/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACwklEQVR42u3aS24jMQwFwNz/0hlgtna3H0nR9mCqV0Y+apUCSMyjfn7i5/fv0/v8OM7jk4x2NeaBBw8PD6819eTFjy/IJ5GPcPXzV9+9mjMeHh7eNi85DK4md//i3sGTL8QLCx4eHt5HeflxUt3E82MADw8P71/k5QHEnISHh4f3zbw8YJ2EC0khfj+3xawFDw8PL+ZtN8A2Pn9Rfw8PD+8/4/0Wn+Q1+QEwiYaj2eLh4eEt8JKyNWHcf71aTOfXEZISHw8PD2+D14sbzsYEk4sC97+Lh4eHt8HrbbvJRatqe6z3l4lKajw8PLxDvLyJ1QwC4pI3X7hC4w0PDw9vgZc3vSbXAnpler4EB3p6eHh4eMW9MYkJ5phegJu/sXDu4eHh4Q14OWMSSSRtszy8yEfDw8PD2+BVN/R5c6vaPMvHefKTeHh4eGu8fMOtbvrVYr16bSs6GPDw8PDewrsvoCdXrCaldjm8wMPDw1vg5ZFrHhZUD5s8+MjDFDw8PLw9Xm87nlwRyKOKXrQRZS14eHh4Y15SOk8aZpM2WHIsXc4cDw8Pb4GXt7vyrbxXiOfBbh6I4OHh4W3wzm7c1UK8dyDlBToeHh7eO3n5gVEobauN//jgwcPDw/sUbxLLnt3Qewv6ZDQ8PDy8Bd7kX/1y5hFs9PkiJm/Hw8PD2+AV1mDQpupNd1Km4+Hh4b2H12vYT8ros8V04dIVHh4e3oBXDU/zMGK+ZL2Fi34LDw8Pb9xbrza67lcrP0gmixi9BQ8PD2+BNz9PqvFBNeq9Z5RPPDw8PLxDvGpza75aeWibsF+MjIeHh7fGyyODjRK5GcgmhwQeHh7eR3l5235eCudNrxcBBB4eHt7X8KpXsvIrAr1W2eU4eHh4eGu8XhjRu0xQvT6VtLUux8TDw8Nb4PUaYJPLUtUmWd48O9bfw8PDw3v+/AFECXOo1Z0ZbQAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'chph个人博客';
            clearTimeout(titleTime);
        } else {
            document.title = 'Welcome to chph's blog';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
